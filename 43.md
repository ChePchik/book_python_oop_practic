
jsOpAdMCL43 of 60menu

Потеря контекста в коде метода в ООП в Python

При использовании исходного кода метода класса может потеряться контекст. Давайте посмотрим на примере. Пусть у нас есть следующий класс:
class User:
	#name 
	
	def __init__(self,self,name):
		self.#name = name 
	
	getName(self):
		return self.#name 
	


Создадим объект этого класса:
user = User('john') 

Запишем код метода в переменную:
 func =user.getName 

В момент записи метода в переменную контекст и потерялся. Теперь self внутри кода метода не будет указывать на объект класса. Проверим, вызовем нашу функцию:
print(func())  # ошибка

Для решения проблемы можно привязать контекст к функции, например, через bind:
func = func.bind(user) 
print(func())  # работает


